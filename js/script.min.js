if(document.querySelector("body").classList.contains("page")){let e=1;function nextSlide(){showSlides(e+=1)}function previousSlide(){showSlides(e-=1)}function currentSlide(t){showSlides(e=t)}function showSlides(t){let o=document.getElementsByClassName("promo-slider__item");t>o.length&&(e=1),t<1&&(e=o.length);for(let e of o)e.style.display="none";o[e-1].style.display="flex"}showSlides(e);const t=document.querySelectorAll(".tab-panel__btn"),o=document.querySelectorAll(".tab-content__item");function tabsClick(e){e.addEventListener("click",function(){let a=e,c=a.getAttribute("data-tab"),l=document.querySelector(c);a.classList.contains("tab-panel__btn--active")||(t.forEach(function(e){e.classList.remove("tab-panel__btn--active")}),o.forEach(function(e){e.classList.remove("tab-content__item--active")}),a.classList.add("tab-panel__btn--active"),l.classList.add("tab-content__item--active"))})}t.forEach(tabsClick),document.querySelector(".tab-panel__btn")&&document.querySelector(".tab-panel__btn").click();const a=document.querySelector(".modal-feedback"),c=document.querySelector(".contacts__btn"),l=document.querySelector(".modal-feedback__form"),n=a.querySelector(".modal-close"),r=a.querySelector("[name=feedback-email]"),s=a.querySelector("[name=feedback-name]"),d=a.querySelector("[name=feedback-message]");let i,m,u,_=!0;try{i=localStorage.getItem("user-name"),m=localStorage.getItem("user-email"),u=localStorage.getItem("user-message")}catch(e){_=!1}c.addEventListener("click",e=>{a.classList.add("modal--show"),i?(s.value=i,r.focus()):s.focus(),m?(r.value=m,d.focus()):r.focus(),u&&(d.value=u,s.focus())}),n.addEventListener("click",()=>{localStorage.setItem("user-name",s.value),localStorage.setItem("user-email",r.value),localStorage.setItem("user-message",d.value),a.classList.remove("modal--show"),a.classList.remove("modal--error")}),l.addEventListener("submit",e=>{s.value&&r.value&&d.value||(e.preventDefault(),a.classList.remove("modal--error"),a.offsetWidth=a.offsetWidth,a.classList.add("modal--error")),localStorage.removeItem("user-name"),localStorage.removeItem("user-email"),localStorage.removeItem("user-message")}),window.addEventListener("keyup",e=>{27===e.keyCode&&a.classList.contains("modal--show")&&(e.preventDefault(),a.classList.remove("modal--show"))});const k=document.querySelector(".modal-map"),v=document.querySelector(".contacts__map"),f=k.querySelector(".modal-close");function init(){const e=new ymaps.Map("map",{center:[59.940163930035936,30.314802652053764],zoom:16,controls:["zoomControl"]}),t=new ymaps.Placemark([59.93863506417266,30.323117499999945],{iconLayout:"default#image"});e.geoObjects.add(t)}v.addEventListener("click",()=>{k.classList.add("modal--show")}),f.addEventListener("click",()=>{k.classList.remove("modal--show")}),ymaps.ready(init)}const productBookmarkBtn=document.querySelectorAll(".product__bookmark"),bookmarkCount=document.querySelector(".header-menu__link--bookmarks"),productOrderBtn=document.querySelectorAll(".product__order"),cartCount=document.querySelector(".header-menu__link--cart");productBookmarkBtn.forEach(function(e){e.addEventListener("click",()=>{bookmarkCount.classList.contains("header-menu__link--current")?bookmarkCount.classList.remove("header-menu__link--current"):bookmarkCount.classList.add("header-menu__link--current")})}),productOrderBtn.forEach(function(e){e.addEventListener("click",()=>{cartCount.classList.contains("header-menu__link--current")?cartCount.classList.remove("header-menu__link--current"):cartCount.classList.add("header-menu__link--current")})});const modalNotice=document.querySelector(".add-cart"),modalCloseNotice=modalNotice.querySelector(".modal-close"),continueBtn=modalNotice.querySelector(".add-cart__btn--continue");productOrderBtn.forEach(function(e){e.addEventListener("click",()=>{modalNotice.classList.add("modal--show")})}),modalCloseNotice.addEventListener("click",()=>{modalNotice.classList.remove("modal--show")}),continueBtn.addEventListener("click",()=>{modalNotice.classList.remove("modal--show")});
